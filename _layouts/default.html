<!DOCTYPE html>
<html lang="{{ site.lang | default: "en-GB" }}">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
		<link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <title>{{ site.title | default: site.github.repository_name }}</title>
    <style>
      :root {
        --primary-blue: #0072B8;
        --secondary-blue: #1B9BD7;
        --text-color: #333333;
      }
      
      body {
        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
        line-height: 1.6;
        color: var(--text-color);
        margin: 0;
        padding: 0;
      }

      .container {
        max-width: 1000px;
        margin: 0 auto;
        padding: 0 20px;
      }

		img {
			max-width: 100%;
		}
      
      header {
        background: linear-gradient(90deg, var(--primary-blue), var(--secondary-blue));
        color: white;
        padding: 20px 0;
      }
      
      .header-content {
        display: flex;
        justify-content: space-between;
        align-items: center;
      }
      
      .site-title {
        margin: 0;
        font-size: 24px;
        font-weight: 600;
      }
      
      .site-title a {
        color: white;
        text-decoration: none;
      }
      
      nav {
        display: flex;
				flex-direction: column;
        margin: 0;
        padding: 0;
      }
      
      nav a, nav .contact-email {
        color: white;
        text-decoration: none;
        font-weight: 500;
      }
      
      a:hover {
        text-decoration: underline;
      }
      
      main {
        padding: 40px 0;
      }

		.tag-badge {
		  display: inline-block;
		  background-color: #ddf4ff;
		  color: #0969da;
		  padding: 4px 10px;
		  border-radius: 12px;
		  font-size: 14px;
		  margin-right: 5px;
		  text-decoration: none;
		  border: 1px solid rgba(9, 105, 218, 0.2);
		}
		.tag-badge:hover {
		  background-color: #0969da;
		  color: white;
		}
    </style>
	  <script>
		document.addEventListener("DOMContentLoaded", function() {
		  // Select the main content container (adjust '.markdown-body' if your class differs)
		  const content = document.querySelector('.markdown-body') || document.querySelector('main') || document.body;
		  const headings = content.querySelectorAll('h2'); // Targets '##' subheadings
		
		  if (headings.length > 0) {
		    const summaryBox = document.createElement('div');
		    summaryBox.style.cssText = "background: #f6f8fa; padding: 15px; border-radius: 6px; margin-bottom: 20px; border: 1px solid #d0d7de;";
		    
		    let summaryHTML = "<strong>This week's updates:</strong> ";
		    const links = [];
		
		    headings.forEach((h, index) => {
		      // Ensure every heading has an ID
		      if (!h.id) {
		        h.id = "section-" + index;
		      }
		      links.push(`<a href="#${h.id}" style="text-decoration:none; color:#0969da;">${h.innerText}</a>`);
		    });
		
		    summaryHTML += links.join(' â€¢ ') + ".";
		    summaryBox.innerHTML = summaryHTML;
		    
		    // Insert summary before the first subheading
		    headings[0].parentNode.insertBefore(summaryBox, headings[0]);
		  }
		});
	</script>
  </head>
  <body>
    <header>
      <div class="container">
        <div class="header-content">
          <h1 class="site-title"><a href="/fdri_words">{{ site.title | default: site.github.repository_name }}</a></h1>
					<nav>
						<a href="https://fdri.org.uk/">FDRI Programme</a>
						<div class="contact-email">
							Get In Touch: <a href="mailto:{{ site.email }}">{{ site.email }}</a>
						</div>
					</nav>
				</div>
		  	<div class="tag-header-container" style="padding: 10px; border-bottom: 1px solid #eaecef;">
  <strong>Filter by Tag:</strong>
  {% assign all_tags = site.tags | sort %}
  {% for tag in all_tags %}
    <a href="{{ site.baseurl }}/tags/#{{ tag[0] | slugify }}" class="tag-badge">
      {{ tag[0] }} <span style="font-size:0.8em; opacity:0.7;">({{ tag[1].size }})</span>
    </a>
  {% endfor %}
</div>
			</div>
		</header>
		<main class="container">
			{{ content }}
		</main>
	</body>
</html>
